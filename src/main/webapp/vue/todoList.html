<!DOCTYPE html>
<html lang="en" xmlns:v-on="http://www.w3.org/1999/xhtml">
<head>
<meta charset="utf-8">
<title>todoList</title>
<script type="text/javascript" src="../lib/vue.js"></script>
</head>
<body>
<div id="app">
    <input type="text" v-model="inputValue">
    <!--v-model 双向绑定-->
    <button v-on:click="handleBtnClick">提交</button>
    <!--v-on 绑定事件-->
    <ul>
        <!--<li v-for="item in list">{{item}}</li>-->
        <!--v-for="item in list" 循环list-->
        <!--子组件-->
        <todo-item v-bind:content="item"
                   v-bind:index="index"
                   v-for="(item,index) in list"
                   @delete="handleItemDelete">
                   <!--v-for="item in list"-->
                    <!-- v-bind:content 动态绑定值-->
            <!--@delete 为v-on:delete的简写 -->
            <!--v-bind:index 绑定list下标，简写 :content="item"-->
        </todo-item>
    </ul>
</div>

<script type="text/javascript">
//    MVVM

//定义全局组件
//Vue.component("TodoItem",{
////    将值传递到父容器
//    props:['content'],
//    template:"<li>{{content}}</li>"
//})

//局部组件，父组件向子组件传值
//父组件
//var TodoItem={
////    获得属性
//    props:['content'],
//    template:"<li>{{content}}</li>"
////    指定模板
//}

var TodoItem={
    props:['content','index'],
    template:"<li @click='handleItemClick'>{{content}}</li>",
//@click 为v-bind:click的简写
    methods:{
        handleItemClick:function () {
//            子组件向父组件传值  aa
        this.$emit("delete",this.index);
        }
    }
//    指定模板
}



var app=new Vue({
    el:'#app',
    components:{
//        注册局部组件
        TodoItem:TodoItem
    },
    data:{
        list:[],
        inputValue:''
// app.$data.inputValue='111'  同时变化
    },
    methods:{
//        绑定方法
        handleBtnClick:function () {
//            往list中追加内容
            this.list.push(this.inputValue)
            this.inputValue=''
//            alert(this.inputValue)
//            获得inputValue的值
        }
    },
//    删除事件
    handleItemDelete:function (index) {
//        删除元素
     this.list.splice(index,1)

    }
});

</script>
</body>
</html>