<!DOCTYPE html>
<html lang="en" xmlns:v-bind="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <title>组件使用的细节点</title>
    <script type="text/javascript" src="../lib/vue.js"></script>
</head>
<body>
<div id="app">
    <!--<table>-->
    <!--<tbody>-->
    <!--&lt;!&ndash;<row></row>&ndash;&gt;-->
    <!--&lt;!&ndash;<row></row>&ndash;&gt;-->
    <!--&lt;!&ndash;<row></row>&ndash;&gt;-->
    <!--&lt;!&ndash;错误的,会使<tr>与<table>同级&ndash;&gt;-->
    <!--<tr is="row"></tr>-->
    <!--<tr is="row"></tr>-->
    <!--<tr is="row"></tr>-->
    <!--&lt;!&ndash;is属性修复此问题 <ol> <select>等同理&ndash;&gt;-->
    <!--</tbody>-->
    <!--</table>-->

    <!--<div ref='hello' @click="handleClick">hello world</div>-->
    <!--ref 引用dom元素-->

    <counter ref="one" @change="handleChange"></counter>
    <!--ref获取子组件引用-->
    <counter ref="two" @change="handleChange"></counter>
    <div @change="handleChange">{{total}}</div>
    <!--子->父传值后，父组件要监听事件-->
</div>
<script>
    //    Vue.component('row', {
    ////        子组件中的data属性必须为函数
    //        data: function () {
    //            return {
    //                content: 'this is a row'
    //            }
    //        },
    //        template: '<tr><td>{{content}}</td></tr>'
    //    });

    //    var vm = new Vue({
    //        el: "#app",
    //        methods: {
    //            handleClick: function () {
    //                alert(this.$refs.hello.innerHTML)
    ////                获得引用的dom
    //            }
    //        }
    //    })

    Vue.component('counter', {
        template: '<div @click="handleClick">{{number}}</div>',
        data: function () {
            return {
                number: 0
            }
        },
        methods: {
            handleClick: function () {
                this.number++
//                子->父传值
                this.$emit('change')
            }
        }
    })


    var vm1 = new Vue({
        el: "#app",
        data: {
            total:0
        },
        methods:{
            handleChange:function () {
                this.total=this.$refs.one.number+this.$refs.two.number
            console.log(this.$refs.one.number);
            console.log(this.$refs.two.number);
            }
        }


    })
</script>
</body>
</html>